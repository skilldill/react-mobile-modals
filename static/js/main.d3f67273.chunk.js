(this["webpackJsonpreact-mobile-modals-example"]=this["webpackJsonpreact-mobile-modals-example"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);n(6);var a,o=n(0),c=n.n(o),r=n(8),l=n.n(r),s=n(5),u=n(1),i=n(3);!function(e){e.horizontal="horizontal",e.vertical="vertical"}(a||(a={}));var m,d=Object(o.createContext)({modals:[],openModal:function(){},closeModal:function(){}}),f="_styles-module__modal__Xt-75",b="_styles-module__modal-show__28QnN",h=.7*window.innerWidth,p=function(e){var t=e.children,n=e.index,a=e.close,r=e.show,l=e.onClose,s=Object(o.useState)(!1),m=Object(u.a)(s,2),d=m[0],p=m[1],v=Object(o.useState)(!1),O=Object(u.a)(v,2),j=O[0],T=O[1],S=function(e){var t={startX:0,startY:0,translateX:0,translateY:0,transition:!1};e&&(t=Object(i.a)(Object(i.a)({},t),e));var n=t,a=n.startX,c=n.startY,r=n.translateX,l=n.translateY,s=n.transition,m=Object(o.useState)(a),d=Object(u.a)(m,2),f=d[0],b=d[1],h=Object(o.useState)(c),p=Object(u.a)(h,2),v=p[0],O=p[1],j=Object(o.useState)(r),T=Object(u.a)(j,2),S=T[0],E=T[1],g=Object(o.useState)(l),X=Object(u.a)(g,2),M=X[0],k=X[1],x=Object(o.useState)(s),C=Object(u.a)(x,2),w=C[0],Y=C[1],_=Object(o.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:400,o=new Promise((function(o){Y(!0),k(n),E(t),e&&e();var c=setTimeout((function(){o(c)}),a)}));o.then((function(e){clearTimeout(e),Y(!1)}))}),[]);return{handleTouchStart:Object(o.useCallback)((function(e){return function(t){var n=t.touches[0],a=n.clientX,o=n.clientY;e&&e(),b(a),O(o)}}),[b,O]),handleTouchMove:Object(o.useCallback)((function(e){return function(t){var n=t.touches[0],a=n.clientX,o=n.clientY-v;E(S+(a-f)),k(M+o),e&&e()}}),[f,v,E,k]),handleTouchEnd:function(e){return function(){e&&e()}},addTransitionAnimation:_,setStateTranslateX:E,setStateTranslateY:k,setStateTransition:Y,setStateStartX:b,setStateStartY:O,stateStartX:f,stateStartY:v,stateTranslateX:S,stateTranslateY:M,stateTransition:w}}(),E=S.stateStartX,g=S.stateTranslateX,X=S.setStateStartX,M=S.setStateTranslateX,k=S.handleTouchStart,x=S.handleTouchMove,C=S.handleTouchEnd,w=r?"".concat(f," ").concat(b):f,Y=Object(o.useMemo)((function(){return d||a?{zIndex:1e3+n,transition:"all .2s",transform:"translateX(".concat(window.innerWidth,"px)")}:{zIndex:1e3+n,transition:j?"all .2s":"none",transform:E<h&&g-E>0?"translateX(".concat(g,"px)"):"none"}}),[d,a,E,g,n]);return c.a.createElement("div",{onTouchStart:k(),onTouchMove:x(),onTouchEnd:C((function(){if(E<h&&g-E>80)p(!0),l();else{T(!0);var e=setTimeout((function(){X(0),M(0),clearTimeout(e)}),10),t=setTimeout((function(){T(!1),clearTimeout(t)}),200)}})),className:w,style:Y},t)};!function(e){e[e.close=0]="close",e[e.open=1]="open"}(m||(m={}));var v=function(e){var t=e.children,n=Object(o.useState)([]),a=Object(u.a)(n,2),r=a[0],l=a[1],f=Object(o.useState)(m.open),b=Object(u.a)(f,2),h=b[0],v=b[1],O=function(){var e=r[r.length-1],t=r.filter((function(e,t){return t!==r.length-1}));l([].concat(Object(s.a)(t),[Object(i.a)(Object(i.a)({},e),{},{closed:!0})]));var n=setTimeout((function(){v(m.close),l(t),clearTimeout(n)}),300)},j=Object(o.useMemo)((function(){return c.a.createElement(c.a.Fragment,null,!!r.length&&r.map((function(e,t){return c.a.createElement(p,{show:t===r.length-1&&h===m.open&&!e.closed,close:!!e.closed,index:t,key:t,onClose:O},e.component)})))}),[r,h]),T={modals:r,openModal:function(e){v(m.open),l([].concat(Object(s.a)(r),[e]))},closeModal:O};return c.a.createElement(d.Provider,{value:T},c.a.createElement("div",{className:"modals"},t,j))},O=function(){return Object(o.useContext)(d)},j=(n(14),function(){var e=O().closeModal;return c.a.createElement("div",{className:"page page-blue"},c.a.createElement("button",{onClick:e},"Back"))}),T=function(){var e=O().openModal;return c.a.createElement("div",{className:"page page-red"},c.a.createElement("button",{onClick:function(){return e({component:c.a.createElement(j,null)})}},"Open thrid modal"))},S=function(){var e=O().openModal;return c.a.createElement("div",{className:"page page-green"},c.a.createElement("button",{onClick:function(){return e({component:c.a.createElement(T,null)})}},"Open second modal"))},E=function(){var e=O().openModal;return c.a.createElement("div",{className:"page main"},c.a.createElement("button",{onClick:function(){return e({component:c.a.createElement(S,null)})}},"Open first modal"))},g=function(){return c.a.createElement(v,null,c.a.createElement(E,null))};l.a.render(c.a.createElement(g,null),document.getElementById("root"))},6:function(e,t,n){},9:function(e,t,n){e.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.d3f67273.chunk.js.map