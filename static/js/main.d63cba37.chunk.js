(this["webpackJsonpreact-mobile-modals-example"]=this["webpackJsonpreact-mobile-modals-example"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);n(6);var a,o=n(0),c=n.n(o),l=n(8),r=n.n(l),s=n(5),i=n(1),u=n(2),m=Object(o.createContext)({modals:[],openModal:function(){},closeModal:function(){}}),d={modals:"_styles-module__modals__1tOx5",modal:"_styles-module__modal__Xt-75","modal-show-vertical":"_styles-module__modal-show-vertical__20pQV",showModalVertical:"_styles-module__showModalVertical__2qLgR","modal-show-horizontal":"_styles-module__modal-show-horizontal__24S6H",showModalHorizontal:"_styles-module__showModalHorizontal__3DG8c"},f=function(e){var t=e.children,n=e.index,a=e.close,l=e.show,r=e.onClose,s=e.direction,m=Object(o.useState)(!1),f=Object(i.a)(m,2),h=f[0],b=f[1],p=Object(o.useState)(!1),v=Object(i.a)(p,2),O=v[0],j=v[1],T=function(e){var t={startX:0,startY:0,translateX:0,translateY:0,transition:!1};e&&(t=Object(u.a)(Object(u.a)({},t),e));var n=t,a=n.startX,c=n.startY,l=n.translateX,r=n.translateY,s=n.transition,m=Object(o.useState)(a),d=Object(i.a)(m,2),f=d[0],h=d[1],b=Object(o.useState)(c),p=Object(i.a)(b,2),v=p[0],O=p[1],j=Object(o.useState)(l),T=Object(i.a)(j,2),S=T[0],_=T[1],E=Object(o.useState)(r),g=Object(i.a)(E,2),w=g[0],M=g[1],X=Object(o.useState)(s),Y=Object(i.a)(X,2),x=Y[0],k=Y[1],C=Object(o.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:400,o=new Promise((function(o){k(!0),M(n),_(t),e&&e();var c=setTimeout((function(){o(c)}),a)}));o.then((function(e){clearTimeout(e),k(!1)}))}),[]);return{handleTouchStart:Object(o.useCallback)((function(e){return function(t){var n=t.touches[0],a=n.clientX,o=n.clientY;e&&e(),h(a),O(o)}}),[h,O]),handleTouchMove:Object(o.useCallback)((function(e){return function(t){var n=t.touches[0],a=n.clientX,o=n.clientY-v;_(S+(a-f)),M(w+o),e&&e()}}),[f,v,_,M]),handleTouchEnd:function(e){return function(){e&&e()}},addTransitionAnimation:C,setStateTranslateX:_,setStateTranslateY:M,setStateTransition:k,setStateStartX:h,setStateStartY:O,stateStartX:f,stateStartY:v,stateTranslateX:S,stateTranslateY:w,stateTransition:x}}(),S=T.stateStartX,_=T.stateTranslateX,E=T.setStateStartX,g=T.setStateTranslateX,w=T.stateStartY,M=T.stateTranslateY,X=T.setStateStartY,Y=T.setStateTranslateY,x=T.handleTouchStart,k=T.handleTouchMove,C=T.handleTouchEnd,y=s?d["modal-show-".concat(s)]:d["modal-show-horizontal"],z=l?"".concat(d.modal," ").concat(y):d.modal,N=Object(o.useMemo)((function(){if(h||a)return{zIndex:1e3+n,transition:"all .2s",transform:"vertical"===s?"translateY(".concat(window.innerHeight,"px)"):"translateX(".concat(window.innerWidth,"px)")};var e="vertical"===s?{transform:w<60&&M-w>0?"translateY(".concat(M,"px)"):"none"}:{transform:S<60&&_-S>0?"translateX(".concat(_,"px)"):"none"};return Object(u.a)({zIndex:1e3+n,transition:O?"all .2s":"none"},e)}),[s,h,a,S,_,M,w,n]),H="vertical"===s?function(){if(w<60&&M-w>80)b(!0),r();else{j(!0);var e=setTimeout((function(){X(0),Y(0),clearTimeout(e)}),10),t=setTimeout((function(){j(!1),clearTimeout(t)}),200)}}:function(){if(S<60&&_-S>80)b(!0),r();else{j(!0);var e=setTimeout((function(){E(0),g(0),clearTimeout(e)}),10),t=setTimeout((function(){j(!1),clearTimeout(t)}),200)}};return c.a.createElement("div",{onTouchStart:x(),onTouchMove:k(),onTouchEnd:C(H),className:z,style:N},t)};!function(e){e[e.close=0]="close",e[e.open=1]="open"}(a||(a={}));var h=function(e){var t=e.children,n=Object(o.useState)([]),l=Object(i.a)(n,2),r=l[0],h=l[1],b=Object(o.useState)(a.open),p=Object(i.a)(b,2),v=p[0],O=p[1],j=function(){var e=r[r.length-1],t=r.filter((function(e,t){return t!==r.length-1}));h([].concat(Object(s.a)(t),[Object(u.a)(Object(u.a)({},e),{},{closed:!0})]));var n=setTimeout((function(){O(a.close),h(t),clearTimeout(n)}),300)},T=Object(o.useMemo)((function(){return c.a.createElement(c.a.Fragment,null,!!r.length&&r.map((function(e,t){return c.a.createElement(f,{show:t===r.length-1&&v===a.open&&!e.closed,direction:e.openDirection,close:!!e.closed,index:t,onClose:j,key:t},e.component)})))}),[r,v]),S={modals:r,openModal:function(e){O(a.open),h([].concat(Object(s.a)(r),[e]))},closeModal:j};return c.a.createElement(m.Provider,{value:S},c.a.createElement("div",{className:d.modals},t,T))},b=function(){return Object(o.useContext)(m)},p=(n(14),function(){var e=b().closeModal;return c.a.createElement("div",{className:"page page-blue"},c.a.createElement("button",{onClick:e},"Back"))}),v=function(){var e=b().openModal;return c.a.createElement("div",{className:"page page-red"},c.a.createElement("button",{onClick:function(){return e({component:c.a.createElement(p,null)})}},"Open thrid modal"))},O=function(){var e=b().openModal;return c.a.createElement("div",{className:"page page-green"},c.a.createElement("button",{onClick:function(){return e({component:c.a.createElement(v,null),openDirection:"vertical"})}},"Open second modal"))},j=function(){var e=b().openModal;return c.a.createElement("div",{className:"page main"},c.a.createElement("button",{onClick:function(){return e({component:c.a.createElement(O,null)})}},"Open first modal"))},T=function(){return c.a.createElement(h,null,c.a.createElement(j,null))};r.a.render(c.a.createElement(T,null),document.getElementById("root"))},6:function(e,t,n){},9:function(e,t,n){e.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.d63cba37.chunk.js.map