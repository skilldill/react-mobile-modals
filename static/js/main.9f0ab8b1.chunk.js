(this["webpackJsonpreact-mobile-modals-example"]=this["webpackJsonpreact-mobile-modals-example"]||[]).push([[0],{1:function(e,t,n){},12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);n(1);var a=n(0),o=n.n(a),r=n(3),c=n.n(r),l=Object(a.createContext)({modals:[],openModal:function(){},closeModal:function(){}});function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s,u={modals:"_1tOx5",modal:"_Xt-75","modal-show-vertical":"_20pQV",showModalVertical:"_2qLgR","modal-show-horizontal":"_24S6H",showModalHorizontal:"_3DG8c"},m=function(e){var t=e.children,n=e.index,r=e.close,c=e.show,l=e.onClose,s=e.direction,m=Object(a.useState)(!1),d=m[0],f=m[1],p=Object(a.useState)(!1),h=p[0],v=p[1],T=function(e){var t={startX:0,startY:0,translateX:0,translateY:0,transition:!1};e&&(t=i({},t,e));var n=t,o=n.startX,r=n.startY,c=n.translateX,l=n.translateY,s=n.transition,u=Object(a.useState)(o),m=u[0],d=u[1],f=Object(a.useState)(r),p=f[0],h=f[1],v=Object(a.useState)(c),T=v[0],b=v[1],S=Object(a.useState)(l),E=S[0],O=S[1],g=Object(a.useState)(s),j=g[0],X=g[1],w=Object(a.useCallback)((function(e,t,n,a){void 0===t&&(t=c),void 0===n&&(n=l),void 0===a&&(a=400),new Promise((function(o){X(!0),O(n),b(t),e&&e();var r=setTimeout((function(){o(r)}),a)})).then((function(e){clearTimeout(e),X(!1)}))}),[]);return{handleTouchStart:Object(a.useCallback)((function(e){return function(t){var n=t.touches[0],a=n.clientX,o=n.clientY;e&&e(),d(a),h(o)}}),[d,h]),handleTouchMove:Object(a.useCallback)((function(e){return function(t){var n=t.touches[0],a=n.clientX,o=n.clientY-p;b(T+(a-m)),O(E+o),e&&e()}}),[m,p,b,O]),handleTouchEnd:function(e){return function(){e&&e()}},addTransitionAnimation:w,setStateTranslateX:b,setStateTranslateY:O,setStateTransition:X,setStateStartX:d,setStateStartY:h,stateStartX:m,stateStartY:p,stateTranslateX:T,stateTranslateY:E,stateTransition:j}}(),b=T.stateStartX,S=T.stateTranslateX,E=T.setStateStartX,O=T.setStateTranslateX,g=T.stateStartY,j=T.stateTranslateY,X=T.setStateStartY,w=T.setStateTranslateY,Y=T.handleTouchStart,M=T.handleTouchMove,x=T.handleTouchEnd,k=c?u.modal+" "+(s?u["modal-show-"+s]:u["modal-show-horizontal"]):u.modal,C=Object(a.useMemo)((function(){return d||r?{zIndex:1e3+n,transition:"all .2s",transform:"vertical"===s?"translateY("+window.innerHeight+"px)":"translateX("+window.innerWidth+"px)"}:i({zIndex:1e3+n,transition:h?"all .2s":"none"},"vertical"===s?{transform:g<60&&j-g>0?"translateY("+j+"px)":"none"}:{transform:b<60&&S-b>0?"translateX("+S+"px)":"none"})}),[s,d,r,b,S,j,g,n]),y="vertical"===s?function(){if(g<60&&j-g>80)f(!0),l();else{v(!0);var e=setTimeout((function(){X(0),w(0),clearTimeout(e)}),10),t=setTimeout((function(){v(!1),clearTimeout(t)}),200)}}:function(){if(b<60&&S-b>80)f(!0),l();else{v(!0);var e=setTimeout((function(){E(0),O(0),clearTimeout(e)}),10),t=setTimeout((function(){v(!1),clearTimeout(t)}),200)}};return o.a.createElement("div",{onTouchStart:Y(),onTouchMove:M(),onTouchEnd:x(y),className:k,style:C},t)};!function(e){e[e.close=0]="close",e[e.open=1]="open"}(s||(s={}));var d=function(e){var t=e.children,n=Object(a.useState)([]),r=n[0],c=n[1],d=Object(a.useState)(s.open),f=d[0],p=d[1],h=function(){var e=r[r.length-1],t=r.filter((function(e,t){return t!==r.length-1}));c([].concat(t,[i({},e,{closed:!0})]));var n=setTimeout((function(){p(s.close),c(t),clearTimeout(n)}),300)},v=Object(a.useMemo)((function(){return o.a.createElement(o.a.Fragment,null,!!r.length&&r.map((function(e,t){return o.a.createElement(m,{show:t===r.length-1&&f===s.open&&!e.closed,direction:e.openDirection,close:!!e.closed,index:t,onClose:h,key:t},e.component)})))}),[r,f]),T={modals:r,openModal:function(e){p(s.open),c([].concat(r,[e]))},closeModal:h};return o.a.createElement(l.Provider,{value:T},o.a.createElement("div",{className:u.modals},t,v))},f=function(){return Object(a.useContext)(l)},p=(n(12),function(){var e=f().closeModal;return o.a.createElement("div",{className:"page page-blue"},o.a.createElement("button",{onClick:e},"Back"))}),h=function(){var e=f().openModal;return o.a.createElement("div",{className:"page page-red"},o.a.createElement("button",{onClick:function(){return e({component:o.a.createElement(p,null)})}},"Open thrid modal"))},v=function(){var e=f().openModal;return o.a.createElement("div",{className:"page page-green"},o.a.createElement("button",{onClick:function(){return e({component:o.a.createElement(h,null),openDirection:"vertical"})}},"Open second modal"))},T=function(){var e=f().openModal;return o.a.createElement("div",{className:"page main"},o.a.createElement("button",{onClick:function(){return e({component:o.a.createElement(v,null)})}},"Open first modal"))},b=function(){return o.a.createElement(d,null,o.a.createElement(T,null))};c.a.render(o.a.createElement(b,null),document.getElementById("root"))},4:function(e,t,n){e.exports=n(13)}},[[4,1,2]]]);
//# sourceMappingURL=main.9f0ab8b1.chunk.js.map